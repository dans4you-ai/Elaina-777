<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELAINA777 - Game Slot</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            margin-top: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        h1 {
            font-size: 3rem;
            color: #ffcc00;
            text-shadow: 0 0 10px #ff9900, 0 0 20px #ff9900;
            margin-bottom: 10px;
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 10px;
        }
        
        .balance, .bet-control, .free-spins-info {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .balance h2, .bet-control h2, .free-spins-info h2 {
            font-size: 1.2rem;
            margin-bottom: 5px;
            color: #ffcc00;
        }
        
        .balance-amount, .bet-amount, .free-spins-count {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .bet-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        button {
            background: linear-gradient(to bottom, #ffcc00, #ff9900);
            border: none;
            border-radius: 5px;
            color: #000;
            padding: 8px 15px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        button:hover {
            background: linear-gradient(to bottom, #ffdd33, #ffaa00);
            transform: translateY(-2px);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        .slot-container {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .reels {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .reel {
            height: 150px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }
        
        .symbol {
            height: 150px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            transition: transform 0.3s;
        }
        
        .symbol img {
            max-width: 90%;
            max-height: 90%;
        }
        
        .winning-symbol {
            animation: glow 0.5s infinite alternate;
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 5px #ffcc00; }
            to { box-shadow: 0 0 20px #ffcc00, 0 0 30px #ff9900; }
        }
        
        .spin-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            position: relative;
        }
        
        .spin-btn {
            background: linear-gradient(to bottom, #ff3333, #cc0000);
            color: white;
            font-size: 1.5rem;
            padding: 15px 60px;
            border-radius: 50px;
            position: relative;
        }
        
        .spin-options {
            position: absolute;
            top: -80px;
            left: 50%;
            transform: translateX(-50%);
            display: none;
            flex-direction: column;
            gap: 10px;
            z-index: 5;
        }
        
        .spin-options.show {
            display: flex;
        }
        
        .spin-option {
            background: linear-gradient(to bottom, #3399ff, #0066cc);
            color: white;
            font-size: 1.2rem;
            padding: 10px 30px;
            border-radius: 50px;
            white-space: nowrap;
        }
        
        .spin-option.unlimited {
            background: linear-gradient(to bottom, #33cc33, #009900);
        }
        
        .win-animation {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s;
        }
        
        .big-win {
            font-size: 4rem;
            font-weight: bold;
            color: #ffcc00;
            text-shadow: 0 0 10px #ff9900, 0 0 20px #ff9900, 0 0 30px #ff9900;
            animation: pulse 1s infinite;
        }
        
        .free-spins-animation {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: rgba(0, 0, 0, 0.9);
            z-index: 20;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s;
        }
        
        .free-spins-title {
            font-size: 4rem;
            font-weight: bold;
            color: #33cc33;
            text-shadow: 0 0 10px #33cc33, 0 0 20px #33cc33, 0 0 30px #33cc33;
            animation: pulse 1s infinite;
            margin-bottom: 20px;
        }
        
        .free-spins-count-animation {
            font-size: 3rem;
            font-weight: bold;
            color: #ffcc00;
            text-shadow: 0 0 10px #ff9900, 0 0 20px #ff9900;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .win-info {
            text-align: center;
            margin-top: 20px;
            font-size: 1.2rem;
            min-height: 30px;
        }
        
        .win-amount {
            color: #ffcc00;
            font-weight: bold;
            font-size: 1.5rem;
        }
        
        .paytable {
            margin-top: 30px;
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 10px;
        }
        
        .paytable h2 {
            text-align: center;
            margin-bottom: 15px;
            color: #ffcc00;
        }
        
        .paytable-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 10px;
        }
        
        .paytable-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }
        
        .paytable-item img {
            width: 50px;
            height: 50px;
        }
        
        .paytable-multipliers {
            margin-top: 20px;
        }
        
        .multipliers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
        }
        
        .multiplier-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }
        
        .multiplier-item img {
            width: 50px;
            height: 50px;
        }
        
        footer {
            margin-top: 20px;
            text-align: center;
            font-size: 0.9rem;
            color: #cccccc;
        }
        
        .scatter-info {
            margin-top: 10px;
            text-align: center;
            font-size: 1rem;
            color: #33cc33;
        }
        
        .spin-notice {
            text-align: center;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #ffcc00;
        }
    </style>
</head>
<body>
    <header>
        <h1>ELAINA777</h1>
        <p>Putar gulungan dan raih kemenangan besar!</p>
    </header>
    
    <div class="container">
        <div class="game-info">
            <div class="balance">
                <h2>SALDO ANDA</h2>
                <div class="balance-amount">Rp <span id="balance">1.000.000</span></div>
            </div>
            
            <div class="bet-control">
                <h2>TARUHAN</h2>
                <div class="bet-amount">Rp <span id="bet-amount">400</span></div>
                <div class="bet-controls">
                    <button id="decrease-bet">-</button>
                    <button id="increase-bet">+</button>
                </div>
            </div>
            
            <div class="free-spins-info">
                <h2>FREE SPINS</h2>
                <div class="free-spins-count"><span id="free-spins-count">0</span></div>
            </div>
        </div>
        
        <div class="slot-container">
            <div class="reels" id="reels">
                <!-- Reels akan diisi oleh JavaScript -->
            </div>
            
            <div class="win-animation" id="win-animation">
                <div class="big-win">BIG WIN!</div>
            </div>
            
            <div class="free-spins-animation" id="free-spins-animation">
                <div class="free-spins-title">FREE SPINS!</div>
                <div class="free-spins-count-animation">10 FREE SPINS</div>
            </div>
            
            <div class="win-info">
                <div>Kemenangan: <span class="win-amount" id="win-amount">Rp 0</span></div>
                <div class="scatter-info" id="scatter-info"></div>
            </div>
            
            <div class="spin-container">
                <div class="spin-options" id="spin-options">
                    <button class="spin-option" id="spin-10x-option">10x SPIN</button>
                    <button class="spin-option unlimited" id="spin-unlimited-option">UNLIMITED SPIN</button>
                </div>
                <button class="spin-btn" id="spin-btn">SPIN</button>
            </div>
            
            <div class="spin-notice">
                Klik SPIN untuk putaran sekali, tekan dan tahan untuk pilihan lainnya
            </div>
        </div>
        
        <div class="paytable">
            <h2>TABEL PEMBAYARAN</h2>
            <div class="paytable-grid">
                <div class="paytable-item">
                    <img src="https://k.top4top.io/p_35877z2ba0.png" alt="Simbol 1">
                    <div>3: 10x<br>4: 25x<br>5: 100x</div>
                </div>
                <div class="paytable-item">
                    <img src="https://e.top4top.io/p_3587ld8w10.png" alt="Simbol 2">
                    <div>3: 15x<br>4: 35x<br>5: 150x</div>
                </div>
                <div class="paytable-item">
                    <img src="https://c.top4top.io/p_3587d9wzg0.png" alt="Simbol 3">
                    <div>3: 20x<br>4: 50x<br>5: 200x</div>
                </div>
                <div class="paytable-item">
                    <img src="https://d.top4top.io/p_358791jgf1.png" alt="Simbol 4">
                    <div>3: 25x<br>4: 75x<br>5: 300x</div>
                </div>
                <div class="paytable-item">
                    <img src="https://a.top4top.io/p_3587698r20.png" alt="Simbol 5">
                    <div>3: 30x<br>4: 100x<br>5: 400x</div>
                </div>
                <div class="paytable-item">
                    <img src="https://b.top4top.io/p_35874hyq21.png" alt="Simbol 6">
                    <div>3: 40x<br>4: 150x<br>5: 500x</div>
                </div>
                <div class="paytable-item">
                    <img src="https://c.top4top.io/p_35879ra512.png" alt="Simbol 7">
                    <div>3: 50x<br>4: 200x<br>5: 1000x</div>
                </div>
            </div>
            
            <div class="paytable-multipliers">
                <h2>SIMBOL MULTIPLIER & BONUS</h2>
                <div class="multipliers-grid">
                    <div class="multiplier-item">
                        <img src="https://l.top4top.io/p_35870bi240.png" alt="×10">
                        <div>×10</div>
                    </div>
                    <div class="multiplier-item">
                        <img src="https://a.top4top.io/p_35871c4ej1.png" alt="×50">
                        <div>×50</div>
                    </div>
                    <div class="multiplier-item">
                        <img src="https://b.top4top.io/p_3587ix9cg2.png" alt="×100">
                        <div>×100</div>
                    </div>
                    <div class="multiplier-item">
                        <img src="https://d.top4top.io/p_35875bz2n3.png" alt="×500">
                        <div>×500</div>
                    </div>
                    <div class="multiplier-item">
                        <img src="https://e.top4top.io/p_3587bxo354.png" alt="×1000">
                        <div>×1000</div>
                    </div>
                    <div class="multiplier-item">
                        <img src="https://b.top4top.io/p_3587w8wiv0.png" alt="Scatter">
                        <div>3 Scatter = 10 Free Spins</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <p>ELAINA777 © 2023 - Game ini hanya untuk hiburan</p>
    </footer>

    <script>
        // Konfigurasi game
        const config = {
            balance: 1000000,
            minBet: 400,
            maxBet: 50000,
            bet: 400,
            reels: 5,
            rows: 3,
            symbols: [
                { id: 1, img: 'https://k.top4top.io/p_35877z2ba0.png', payout: [0, 0, 10, 25, 100] },
                { id: 2, img: 'https://e.top4top.io/p_3587ld8w10.png', payout: [0, 0, 15, 35, 150] },
                { id: 3, img: 'https://c.top4top.io/p_3587d9wzg0.png', payout: [0, 0, 20, 50, 200] },
                { id: 4, img: 'https://d.top4top.io/p_358791jgf1.png', payout: [0, 0, 25, 75, 300] },
                { id: 5, img: 'https://a.top4top.io/p_3587698r20.png', payout: [0, 0, 30, 100, 400] },
                { id: 6, img: 'https://b.top4top.io/p_35874hyq21.png', payout: [0, 0, 40, 150, 500] },
                { id: 7, img: 'https://c.top4top.io/p_35879ra512.png', payout: [0, 0, 50, 200, 1000] }
            ],
            multipliers: [
                { id: 10, img: 'https://l.top4top.io/p_35870bi240.png', chance: 1/10 },
                { id: 50, img: 'https://a.top4top.io/p_35871c4ej1.png', chance: 1/50 },
                { id: 100, img: 'https://b.top4top.io/p_3587ix9cg2.png', chance: 1/100 },
                { id: 500, img: 'https://d.top4top.io/p_35875bz2n3.png', chance: 1/500 },
                { id: 1000, img: 'https://e.top4top.io/p_3587bxo354.png', chance: 1/1000 }
            ],
            scatter: { 
                id: 'scatter', 
                img: 'https://b.top4top.io/p_3587w8wiv0.png', 
                chance: 1/30,
                freeSpins: 10,
                multiplier: 3  // Multiplier untuk kemenangan selama free spins
            }
        };

        // Elemen DOM
        const balanceEl = document.getElementById('balance');
        const betAmountEl = document.getElementById('bet-amount');
        const decreaseBetBtn = document.getElementById('decrease-bet');
        const increaseBetBtn = document.getElementById('increase-bet');
        const reelsContainer = document.getElementById('reels');
        const spinBtn = document.getElementById('spin-btn');
        const spinOptions = document.getElementById('spin-options');
        const spin10xOption = document.getElementById('spin-10x-option');
        const spinUnlimitedOption = document.getElementById('spin-unlimited-option');
        const winAnimation = document.getElementById('win-animation');
        const freeSpinsAnimation = document.getElementById('free-spins-animation');
        const winAmountEl = document.getElementById('win-amount');
        const freeSpinsCountEl = document.getElementById('free-spins-count');
        const scatterInfoEl = document.getElementById('scatter-info');

        // Inisialisasi game
        let balance = config.balance;
        let bet = config.bet;
        let isSpinning = false;
        let unlimitedSpins = false;
        let spinsCount = 0;
        let freeSpins = 0;
        let isFreeSpinsActive = false;
        let freeSpinsMultiplier = 1;
        let spin10xActive = false;
        let spin10xCount = 0;
        let pressTimer;

        // Format angka ke format Rupiah
        function formatRupiah(amount) {
            return amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        // Update tampilan saldo dan taruhan
        function updateUI() {
            balanceEl.textContent = formatRupiah(balance);
            betAmountEl.textContent = formatRupiah(bet);
            freeSpinsCountEl.textContent = freeSpins;
            
            // Update teks tombol spin jika free spins aktif
            if (isFreeSpinsActive) {
                spinBtn.textContent = `FREE SPIN (${freeSpins})`;
            } else if (spin10xActive) {
                spinBtn.textContent = `SPIN 10x (${10 - spin10xCount})`;
            } else if (unlimitedSpins) {
                spinBtn.textContent = 'STOP SPIN';
            } else {
                spinBtn.textContent = 'SPIN';
            }
        }

        // Buat gulungan
        function createReels() {
            reelsContainer.innerHTML = '';
            for (let i = 0; i < config.reels; i++) {
                const reel = document.createElement('div');
                reel.className = 'reel';
                reel.id = `reel-${i}`;
                
                for (let j = 0; j < config.rows; j++) {
                    const symbol = document.createElement('div');
                    symbol.className = 'symbol';
                    symbol.id = `symbol-${i}-${j}`;
                    symbol.innerHTML = '<img src="' + config.symbols[0].img + '" alt="Symbol">';
                    reel.appendChild(symbol);
                }
                
                reelsContainer.appendChild(reel);
            }
        }

        // Putar gulungan
        function spinReels() {
            if (isSpinning || (balance < bet && !isFreeSpinsActive && !spin10xActive)) return;
            
            // Kurangi saldo jika bukan free spins atau 10x spin
            if (!isFreeSpinsActive && !spin10xActive) {
                balance -= bet;
            }
            
            updateUI();
            
            isSpinning = true;
            spinsCount++;
            
            // Reset kemenangan
            winAmountEl.textContent = 'Rp 0';
            scatterInfoEl.textContent = '';
            
            // Putar setiap gulungan dengan delay
            for (let i = 0; i < config.reels; i++) {
                setTimeout(() => {
                    spinReel(i);
                }, i * 300);
            }
            
            // Setelah semua gulungan berhenti, hitung kemenangan
            setTimeout(() => {
                calculateWin();
                isSpinning = false;
                
                // Handle mode spin yang berbeda
                if (unlimitedSpins && (balance >= bet || isFreeSpinsActive)) {
                    setTimeout(spinReels, 500);
                } else if (spin10xActive) {
                    spin10xCount++;
                    if (spin10xCount < 10 && (balance >= bet || isFreeSpinsActive)) {
                        setTimeout(spinReels, 500);
                    } else {
                        // Selesai 10x spin
                        spin10xActive = false;
                        spin10xCount = 0;
                        updateUI();
                    }
                }
                
                // Jika masih ada free spins, aktifkan tombol free spin
                if (freeSpins > 0 && isFreeSpinsActive) {
                    spinBtn.disabled = false;
                } else if (freeSpins === 0 && isFreeSpinsActive) {
                    // Free spins selesai
                    isFreeSpinsActive = false;
                    freeSpinsMultiplier = 1;
                    scatterInfoEl.textContent = "Free Spins selesai!";
                }
            }, config.reels * 300 + 500);
        }

        // Putar satu gulungan
        function spinReel(reelIndex) {
            const reel = document.getElementById(`reel-${reelIndex}`);
            const symbols = reel.querySelectorAll('.symbol');
            
            // Animasi putaran
            let spinDuration = 1000 + reelIndex * 200;
            let startTime = null;
            
            function animateSpin(timestamp) {
                if (!startTime) startTime = timestamp;
                const progress = timestamp - startTime;
                
                if (progress < spinDuration) {
                    // Acak simbol selama animasi
                    symbols.forEach(symbol => {
                        const randomSymbol = config.symbols[Math.floor(Math.random() * config.symbols.length)];
                        symbol.innerHTML = `<img src="${randomSymbol.img}" alt="Symbol">`;
                    });
                    
                    requestAnimationFrame(animateSpin);
                } else {
                    // Set simbol akhir setelah animasi selesai
                    setFinalSymbols(reelIndex);
                }
            }
            
            requestAnimationFrame(animateSpin);
        }

        // Set simbol akhir untuk gulungan
        function setFinalSymbols(reelIndex) {
            const reel = document.getElementById(`reel-${reelIndex}`);
            const symbols = reel.querySelectorAll('.symbol');
            
            // Tentukan simbol yang akan muncul
            for (let i = 0; i < config.rows; i++) {
                const symbol = symbols[i];
                
                // Cek apakah akan muncul multiplier atau scatter
                const rand = Math.random();
                
                if (rand < config.scatter.chance) {
                    // Tampilkan scatter
                    symbol.innerHTML = `<img src="${config.scatter.img}" alt="Scatter">`;
                    symbol.dataset.symbol = 'scatter';
                } else {
                    // Cek untuk multiplier
                    let isMultiplier = false;
                    for (const multiplier of config.multipliers) {
                        if (rand < multiplier.chance) {
                            symbol.innerHTML = `<img src="${multiplier.img}" alt="×${multiplier.id}">`;
                            symbol.dataset.symbol = `multiplier-${multiplier.id}`;
                            isMultiplier = true;
                            break;
                        }
                    }
                    
                    // Jika bukan multiplier, tampilkan simbol biasa
                    if (!isMultiplier) {
                        const randomSymbol = config.symbols[Math.floor(Math.random() * config.symbols.length)];
                        symbol.innerHTML = `<img src="${randomSymbol.img}" alt="Symbol">`;
                        symbol.dataset.symbol = `symbol-${randomSymbol.id}`;
                    }
                }
            }
        }

        // Hitung kemenangan
        function calculateWin() {
            let totalWin = 0;
            let multiplier = 1;
            let scatterCount = 0;
            
            // Periksa setiap baris untuk kombinasi pemenang
            for (let row = 0; row < config.rows; row++) {
                // Dapatkan simbol di baris ini
                const lineSymbols = [];
                for (let reel = 0; reel < config.reels; reel++) {
                    const symbol = document.getElementById(`symbol-${reel}-${row}`);
                    lineSymbols.push(symbol.dataset.symbol);
                }
                
                // Periksa kombinasi simbol biasa
                for (const symbolConfig of config.symbols) {
                    const symbolId = `symbol-${symbolConfig.id}`;
                    let count = 0;
                    
                    for (let i = 0; i < lineSymbols.length; i++) {
                        if (lineSymbols[i] === symbolId) {
                            count++;
                        } else if (count >= 3) {
                            break;
                        } else {
                            count = 0;
                        }
                    }
                    
                    if (count >= 3) {
                        const winAmount = bet * symbolConfig.payout[count];
                        totalWin += winAmount;
                        
                        // Highlight simbol pemenang
                        for (let i = 0; i < count; i++) {
                            const winningSymbol = document.getElementById(`symbol-${i}-${row}`);
                            winningSymbol.classList.add('winning-symbol');
                            setTimeout(() => {
                                winningSymbol.classList.remove('winning-symbol');
                            }, 1000);
                        }
                    }
                }
                
                // Periksa multiplier
                for (let i = 0; i < lineSymbols.length; i++) {
                    if (lineSymbols[i] && lineSymbols[i].startsWith('multiplier-')) {
                        const multiplierValue = parseInt(lineSymbols[i].split('-')[1]);
                        multiplier *= multiplierValue;
                    }
                }
            }
            
            // Periksa scatter
            for (let reel = 0; reel < config.reels; reel++) {
                for (let row = 0; row < config.rows; row++) {
                    const symbol = document.getElementById(`symbol-${reel}-${row}`);
                    if (symbol.dataset.symbol === 'scatter') {
                        scatterCount++;
                        
                        // Highlight scatter
                        symbol.classList.add('winning-symbol');
                        setTimeout(() => {
                            symbol.classList.remove('winning-symbol');
                        }, 1000);
                    }
                }
            }
            
            // Aktifkan free spins jika ada 3 scatter atau lebih
            if (scatterCount >= 3 && !isFreeSpinsActive) {
                freeSpins += config.scatter.freeSpins;
                isFreeSpinsActive = true;
                freeSpinsMultiplier = config.scatter.multiplier;
                
                // Tampilkan animasi free spins
                freeSpinsAnimation.style.opacity = '1';
                setTimeout(() => {
                    freeSpinsAnimation.style.opacity = '0';
                }, 3000);
                
                scatterInfoEl.textContent = `Anda mendapatkan ${config.scatter.freeSpins} Free Spins dengan multiplier ${freeSpinsMultiplier}x!`;
            }
            
            // Hitung kemenangan scatter
            if (scatterCount >= 3) {
                const scatterWin = bet * scatterCount * 10; // 10x per scatter
                totalWin += scatterWin;
            }
            
            // Terapkan multiplier
            totalWin *= multiplier;
            
            // Terapkan free spins multiplier jika aktif
            if (isFreeSpinsActive) {
                totalWin *= freeSpinsMultiplier;
            }
            
            // Tambahkan kemenangan ke saldo
            if (totalWin > 0) {
                balance += totalWin;
                winAmountEl.textContent = `Rp ${formatRupiah(totalWin)}`;
                
                // Tampilkan animasi BIG WIN jika menang di atas 500.000
                if (totalWin > 500000) {
                    winAnimation.style.opacity = '1';
                    setTimeout(() => {
                        winAnimation.style.opacity = '0';
                    }, 3000);
                }
            }
            
            updateUI();
        }

        // Event listeners
        decreaseBetBtn.addEventListener('click', () => {
            if (bet > config.minBet) {
                bet = Math.max(config.minBet, bet - 100);
                updateUI();
            }
        });

        increaseBetBtn.addEventListener('click', () => {
            if (bet < config.maxBet && bet <= balance) {
                bet = Math.min(config.maxBet, bet + 100);
                updateUI();
            }
        });

        // Tombol spin utama - klik untuk spin 1x
        spinBtn.addEventListener('click', () => {
            if (pressTimer) {
                clearTimeout(pressTimer);
                pressTimer = null;
            }
            
            if (!spinOptions.classList.contains('show')) {
                // Spin 1x
                unlimitedSpins = false;
                spin10xActive = false;
                spinReels();
            }
        });

        // Tampilkan opsi spin saat tombol ditekan lama
        spinBtn.addEventListener('mousedown', () => {
            pressTimer = setTimeout(() => {
                spinOptions.classList.add('show');
            }, 500);
        });

        spinBtn.addEventListener('touchstart', () => {
            pressTimer = setTimeout(() => {
                spinOptions.classList.add('show');
            }, 500);
        });

        // Sembunyikan opsi spin saat tombol dilepas
        spinBtn.addEventListener('mouseup', () => {
            if (pressTimer) {
                clearTimeout(pressTimer);
                pressTimer = null;
            }
        });

        spinBtn.addEventListener('touchend', () => {
            if (pressTimer) {
                clearTimeout(pressTimer);
                pressTimer = null;
            }
        });

        // Opsi 10x spin
        spin10xOption.addEventListener('click', () => {
            spinOptions.classList.remove('show');
            unlimitedSpins = false;
            spin10xActive = true;
            spin10xCount = 0;
            spinReels();
        });

        // Opsi unlimited spin
        spinUnlimitedOption.addEventListener('click', () => {
            spinOptions.classList.remove('show');
            unlimitedSpins = true;
            spin10xActive = false;
            spinReels();
        });

        // Sembunyikan opsi spin saat klik di luar
        document.addEventListener('click', (e) => {
            if (!spinBtn.contains(e.target) && !spinOptions.contains(e.target)) {
                spinOptions.classList.remove('show');
            }
        });

        // Inisialisasi game
        createReels();
        updateUI();
    </script>
</body>
</html>
